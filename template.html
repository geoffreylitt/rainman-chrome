<html ng-app="rainmanApp">
  <body ng-controller="RainmanCtrl" ng-cloak>
    <div ng-show="pageState.loadState == 'loading'">
      Loading...
    </div>
    <div ng-show="pageState.loadState == 'success'">
      <div id="content" ng-bind-html="article">
      </div>
      <div id="sidebar">
        <div class="card wiki" ng-repeat="card in cards">
          <a class="wiki-link" target="_blank" ng-href="{{card.url}}">
            <div class="title">{{card.title}}</div>
            <img class="main-img" ng-src="{{card.images[0]}}" />
          </a>
          <div ng-show="card.expanded == false" class="summary">
            {{card.shortSummary}}
            <a href="" ng-click="card.expanded = true" class="card-toggle">See more</a>
          </div>
          <div ng-show="card.expanded == true" class="summary">
            {{card.summary}}
            <a href="" ng-click="card.expanded = false" class="card-toggle">See less</a>
          </div>

        </div>
      </div>
    </div>
    <div ng-show="pageState.loadState == 'error'">
    </div>

    <!-- place to temporarily store old html -->
    <div id="hidden"></div>
  </body>
</html>